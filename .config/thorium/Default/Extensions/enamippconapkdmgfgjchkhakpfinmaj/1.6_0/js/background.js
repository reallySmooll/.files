(()=>{"use strict";var e={5246:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequestToCustomServer=t.setupBackgroundRequestProxy=t.sendRealRequestToCustomServer=void 0;const i=n(8362),r=n(7746);function s(e,t,n={}){return o(this,void 0,void 0,(function*(){return"get"===e.toLowerCase()&&(t=(0,i.objectToURI)(t,n,!0),n=null),yield fetch(t,{method:e,headers:{"Content-Type":"application/json"},redirect:"follow",body:n?JSON.stringify(n):null})}))}t.sendRealRequestToCustomServer=s,t.setupBackgroundRequestProxy=function(){chrome.runtime.onMessage.addListener(((e,t,n)=>"sendRequest"===e.message?(s(e.type,e.url,e.data).then((e=>o(this,void 0,void 0,(function*(){n({responseText:yield e.text(),status:e.status,ok:e.ok})})))).catch((()=>{n({responseText:"",status:-1,ok:!1})})),!0):"getHash"===e.message&&((0,r.getHash)(e.value,e.times).then(n).catch((e=>{n({error:null==e?void 0:e.message})})),!0)))},t.sendRequestToCustomServer=function(e,t,n={}){return new Promise(((o,i)=>{chrome.runtime.sendMessage({message:"sendRequest",type:e,url:t,data:n},(e=>{-1!==e.status?o(e):i(e)}))}))}},6121:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.chromeP=void 0,t.chromeP="undefined"==typeof browser?"undefined"!=typeof chrome?chrome:null:browser},9095:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.injectUpdatedScripts=t.getCleanupStartMessage=t.getCleanupId=t.setupCleanupListener=t.addCleanupListener=void 0;const i=n(6121),r=[];function s(){return`${chrome.runtime.id}-cleanup`}t.addCleanupListener=function(e){r.push(e)},t.setupCleanupListener=function(){const e=s(),t=performance.now();window.postMessage({source:e,message:"cleanup-start"}),window.addEventListener("message",(n=>{var o;if((null===(o=n.data)||void 0===o?void 0:o.source)&&n.data.source===e&&"cleanup-start"===n.data.message&&performance.now()-t>5e3)for(const e of r)e()}))},t.getCleanupId=s,t.getCleanupStartMessage=function(){return"cleanup-start"},t.injectUpdatedScripts=function(e=[]){return o(this,void 0,void 0,(function*(){const t=e.concat(chrome.runtime.getManifest().content_scripts||[]);if("scripting"in chrome)for(const e of t)for(const t of yield i.chromeP.tabs.query({url:e.matches}))e.css&&e.css.length>0&&(yield i.chromeP.scripting.insertCSS({target:{tabId:t.id},files:e.css||[]})),yield i.chromeP.scripting.executeScript({target:{tabId:t.id},files:e.js||[],world:e.world||"ISOLATED"});else chrome.windows.getAll({populate:!0},(e=>{var n,o;for(const i of e)if(i.tabs)for(const e of i.tabs)for(const i of t)if(e.url&&(null===(o=null===(n=i.matches)||void 0===n?void 0:n.some)||void 0===o?void 0:o.call(n,(t=>e.url.match(t.replace(/\//g,"\\/").replace(/\./g,"\\.").replace(/\*/g,".*")))))){if(i.js)for(const t of i.js)chrome.tabs.executeScript(e.id,{file:t});if(i.css)for(const t of i.css)chrome.tabs.insertCSS(e.id,{file:t})}}))}))}},7741:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.keybindToString=t.formatKey=t.keybindEquals=t.isSafari=t.ProtoConfig=void 0;const i=n(8362);function r(){return"undefined"!=typeof navigator&&"Apple Computer, Inc."===navigator.vendor}function s(e){return null==e?"":" "==e?"Space":1==e.length?e.toUpperCase():e}t.ProtoConfig=class{constructor(e,t,n,o=!1){this.configLocalListeners=[],this.configSyncListeners=[],this.cachedSyncConfig=null,this.cachedLocalStorage=null,this.config=null,this.local=null,this.inDeArrow=!1,this.syncDefaults=e,this.localDefaults=t,this.inDeArrow=o,this.setupConfig(n).then((e=>{this.config=null==e?void 0:e.sync,this.local=null==e?void 0:e.local}))}configProxy(){chrome.storage.onChanged.addListener(((e,t)=>{if("sync"===t){for(const t in e)this.cachedSyncConfig[t]=e[t].newValue;for(const t of this.configSyncListeners)t(e)}else if("local"===t){for(const t in e)this.cachedLocalStorage[t]=e[t].newValue;for(const t of this.configLocalListeners)t(e)}}));let e=0;const t=new Set;let n=null;const o=this,i={set(i,r,s){if(o.cachedSyncConfig[r]=s,Date.now()-e<100){if(t.add(r),!n){const e=()=>{const e=[...t];t.clear(),chrome.storage.sync.set(e.map((e=>[e,o.cachedSyncConfig[e]])).reduce(((e,[t,n])=>(e[t]=n,e)),{})),n=null};n=setTimeout(e,20)}return!0}return chrome.storage.sync.set({[r]:s}),e=Date.now(),!0},get(e,t){const n=o.cachedSyncConfig[t];return e[t]||n},deleteProperty:(e,t)=>(chrome.storage.sync.remove(t),!0)},r={set:(e,t,n)=>(o.cachedLocalStorage[t]=n,chrome.storage.local.set({[t]:n}),!0),get(e,t){const n=o.cachedLocalStorage[t];return e[t]||n},deleteProperty:(e,t)=>(chrome.storage.local.remove(t),!0)};return{sync:new Proxy({handler:i},i),local:new Proxy({handler:r},r)}}forceSyncUpdate(e){const t=this.cachedSyncConfig[e];chrome.storage.sync.set({[e]:t})}forceLocalUpdate(e){const t=this.cachedLocalStorage[e];chrome.storage.local.set({[e]:t},(()=>{chrome.runtime.lastError&&alert(chrome.i18n.getMessage("storageFull"))}))}fetchConfig(){return o(this,void 0,void 0,(function*(){yield Promise.all([new Promise((e=>{chrome.storage.sync.get(null,(t=>{this.cachedSyncConfig=t,void 0===this.cachedSyncConfig&&(this.cachedSyncConfig={},(this.inDeArrow||window.location.href.includes("options.html"))&&alert(`${chrome.i18n.getMessage("syncDisabledWarning")}${this.inDeArrow?`\n\n${chrome.i18n.getMessage("syncDisabledWarningDeArrow")}`:""}${(0,i.isFirefoxOrSafari)()&&!r()?`\n\n${chrome.i18n.getMessage("syncDisabledFirefoxSuggestions")}`:""}`)),e()}))})),new Promise((e=>{chrome.storage.local.get(null,(t=>{this.cachedLocalStorage=t,e()}))}))])}))}setupConfig(e){return o(this,void 0,void 0,(function*(){if("undefined"==typeof chrome)return null;yield this.fetchConfig(),this.addDefaults();const t=this.configProxy();return e(t.sync),t}))}addDefaults(){for(const e in this.syncDefaults)if(Object.prototype.hasOwnProperty.call(this.cachedSyncConfig,e)){if("barTypes"===e)for(const t in this.syncDefaults[e])Object.prototype.hasOwnProperty.call(this.cachedSyncConfig[e],t)||(this.cachedSyncConfig[e][t]=this.syncDefaults[e][t])}else this.cachedSyncConfig[e]=this.syncDefaults[e];for(const e in this.localDefaults)Object.prototype.hasOwnProperty.call(this.cachedLocalStorage,e)||(this.cachedLocalStorage[e]=this.localDefaults[e])}isReady(){return null!==this.config}},t.isSafari=r,t.keybindEquals=function(e,t){return!(null==e||null==t||Boolean(e.alt)!=Boolean(t.alt)||Boolean(e.ctrl)!=Boolean(t.ctrl)||Boolean(e.shift)!=Boolean(t.shift)||null==e.key&&null==e.code||null==t.key&&null==t.code)&&(null!=e.code&&null!=t.code?e.code===t.code:null!=e.key&&null!=t.key&&e.key.toUpperCase()===t.key.toUpperCase())},t.formatKey=s,t.keybindToString=function(e){if(null==e||null==e.key)return"";let t="";return e.ctrl&&(t+="Ctrl + "),e.alt&&(t+="Alt + "),e.shift&&(t+="Shift + "),t+s(e.key)}},7746:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHash=void 0,t.getHash=function(e,t=5e3){return n(this,void 0,void 0,(function*(){if(t<=0)return"";if(!("subtle"in crypto))return new Promise(((n,o)=>chrome.runtime.sendMessage({message:"getHash",value:e,times:t},(e=>{e.error?o(e.error):n(e)}))));let n=e;for(let e=0;e<t;e++){const e=yield crypto.subtle.digest("SHA-256",(new TextEncoder).encode(n).buffer);n=Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}return n}))}},8362:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isFirefoxOrSafari=t.timeoutPomise=t.PromiseTimeoutError=t.objectToURI=t.waitFor=void 0,t.waitFor=function(e,t=5e3,o=100,i){return n(this,void 0,void 0,(function*(){return yield new Promise(((n,r)=>{setTimeout((()=>{clearInterval(a),r(`TIMEOUT: ${Error().stack}`)}),t);const s=()=>{const t=e();(i?i(t):t)&&(n(t),clearInterval(a))},a=setInterval(s,o);s()}))}))},t.objectToURI=function(e,t,n){let o=0;for(const i in t){const r=e.includes("?")||o>0?"&":n?"?":"",s="string"==typeof t[i]?t[i]:JSON.stringify(t[i]);e+=r+encodeURIComponent(i)+"="+encodeURIComponent(s),o++}return e};class o extends Error{constructor(e){super("Promise timed out"),this.promise=e}}t.PromiseTimeoutError=o,t.timeoutPomise=function(e){return new Promise(((t,n)=>{e&&setTimeout((()=>{n(new o)}),e)}))},t.isFirefoxOrSafari=function(){return"undefined"!=typeof browser}},9019:(e,t)=>{function n(e){const t=e.replace(/__MSG_(\w+)__/g,(function(e,t){return t?chrome.i18n.getMessage(t).replace(/</g,"&#60;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>"):""}));return t!=e&&t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizedMessage=t.localizeHtmlPage=t.generateUserID=void 0,t.generateUserID=function(e=36){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";const o="undefined"==typeof window?crypto:window.crypto;if(o&&o.getRandomValues){const i=new Uint32Array(e);o.getRandomValues(i);for(let o=0;o<e;o++)n+=t[i[o]%t.length];return n}for(let o=0;o<e;o++)n+=t[Math.floor(Math.random()*t.length)];return n},t.localizeHtmlPage=function(){const e=n(document.title);e&&(document.title=e);const t=document.querySelector(".sponsorBlockPageBody"),o=n(t.innerHTML.toString());o&&(t.innerHTML=o)},t.getLocalizedMessage=n},992:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setupTabUpdates=void 0;const o=n(8362);function i(e){chrome.tabs.sendMessage(e,{message:"update"},(()=>{chrome.runtime.lastError}))}function r(e){e.navigationApiAvailable&&(e.navigationApiAvailable.newValue?chrome.tabs.onUpdated.removeListener(i):chrome.tabs.onUpdated.addListener(i))}t.setupTabUpdates=function(e){chrome.tabs.onUpdated.addListener(i),(0,o.waitFor)((()=>null!==e.local)).then((()=>{e.local.navigationApiAvailable&&chrome.tabs.onUpdated.removeListener(i)})),e.configSyncListeners.includes(r)||e.configSyncListeners.push(r)}},1051:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(992),r=n(5246),s=n(9019),a=n(6963),c=n(7741),l=n(1181),u=n(8362),d=n(41),f=n(9095),h=n(9142),g=n(8362),m=n(6121);(0,i.setupTabUpdates)(a.default),(0,r.setupBackgroundRequestProxy)(),(0,g.waitFor)((()=>a.default.isReady())).then((()=>{if(a.default.config.activated||!a.default.config.alreadyActivated&&!a.default.config.licenseKey||(a.default.config.activated=!0),a.default.config.activated&&a.default.config.userID&&(a.default.config.alreadyActivated=!0),a.default.config.userID&&b().then((()=>{(0,u.isFirefoxOrSafari)()||chrome.extension.isAllowedIncognitoAccess((e=>{e&&!a.default.config.lastIncognitoStatus&&b(void 0,!0).catch(d.logError),a.default.config.lastIncognitoStatus=e}))})).catch(d.logError),S(),!a.default.config.userID){const e=()=>o(void 0,void 0,void 0,(function*(){if(!a.default.config.userID){const e=yield function(){return o(this,void 0,void 0,(function*(){try{if("managed"in chrome.storage){const e=yield chrome.storage.managed.get("licenseKey");return(null==e?void 0:e.licenseKey)||null}}catch(e){}return null}))}(),t=!l.freeAccess&&!navigator.userAgent.includes("Mobile;")&&!navigator.userAgent.includes("iPhone;")&&!navigator.userAgent.includes("iPad;")&&(yield function(){return o(this,void 0,void 0,(function*(){try{const e=yield(0,r.sendRealRequestToCustomServer)("GET",`${a.default.config.serverAddress}/api/featureFlag/deArrowPaywall`);if(e.ok)return(yield e.json()).enabled}catch(e){(0,d.logError)(e)}return!1}))}())&&!e&&!a.default.config.licenseKey&&!a.default.config.alreadyActivated;t?(a.default.config.activated=!1,a.default.config.showActivatedMessage=!0,a.default.config.freeActivation=!1):e&&(a.default.config.licenseKey=e,a.default.config.freeActivation=!1),l.freeAccess&&(a.default.config.freeActivation=!1),b().catch(d.logError);const n=yield Promise.race([new Promise((e=>setTimeout(e,1e3))),new Promise((e=>{const t=w();for(const n of t)chrome.runtime.sendMessage(n,{message:"requestConfig"},(t=>{t&&e(t)}))}))]);if(n&&(a.default.config.userID=n.userID,a.default.config.allowExpirements=n.allowExpirements,a.default.config.showDonationLink=n.showDonationLink,a.default.config.showUpsells=n.showUpsells,a.default.config.darkMode=n.darkMode,a.default.config.importedConfig=!0),!a.default.config.userID){const e=(0,s.generateUserID)();a.default.config.userID=e}a.default.config.showInfoAboutRandomThumbnails=!0,t?setTimeout((()=>{chrome.tabs.create({url:chrome.runtime.getURL("/payment.html")})}),100):e||setTimeout((()=>{chrome.tabs.create({url:chrome.runtime.getURL("/help.html")})}),100)}}));(0,u.isFirefoxOrSafari)()&&!(0,c.isSafari)()?setTimeout((()=>{e()}),1500):(0,g.waitFor)((()=>a.default.isReady())).then((()=>e())).catch(d.logError)}})).catch(d.logError);const p=[];function v(){(0,h.freeTrialActive)()||(0,h.isActivated)()||(a.default.config.freeTrialEnded=!0,chrome.tabs.create({url:chrome.runtime.getURL("payment.html")}),b().catch(d.logError))}function y(){a.default.config.activated||(a.default.config.freeActivation=!0,a.default.config.activated=!0,a.default.config.freeTrialEnded=!0,b().catch(d.logError),setTimeout((()=>{chrome.tabs.create({url:chrome.runtime.getURL("help.html")})}),1e3))}function w(){return(0,c.isSafari)()?l.extensionImportList.safari:(0,u.isFirefoxOrSafari)()?l.extensionImportList.firefox:l.extensionImportList.chromium}function b(e,t){var n,i,r,s;return o(this,void 0,void 0,(function*(){if((0,c.isSafari)())return;const o=(0,h.getContentScripts)(e);if("scripting"in chrome&&"getRegisteredContentScripts"in chrome.scripting&&function(){var e,t;if(!(0,u.isFirefoxOrSafari)()||(0,c.isSafari)())return!0;const n=parseInt(null!==(t=null===(e=navigator.userAgent.match(/Firefox\/(\S+)/))||void 0===e?void 0:e[1])&&void 0!==t?t:"");return!isNaN(n)&&n>105}()){a.default.config.firefoxOldContentScriptRegistration=!1;const e=yield m.chromeP.scripting.getRegisteredContentScripts();if((null==e?void 0:e.length)>0){const n=e.filter((e=>t||!o.some((t=>t.id===e.id))));n.length>0&&(yield m.chromeP.scripting.unregisterContentScripts({ids:n.map((e=>e.id))}))}let n=!1;for(const i of o)!t&&e&&e.some((e=>e.id===i.id))||(yield m.chromeP.scripting.registerContentScripts([{id:i.id,runAt:i.runAt,matches:i.matches,allFrames:i.allFrames,js:i.js,css:i.css,persistAcrossSessions:!0}]),n=!0);n&&(yield(0,f.injectUpdatedScripts)(o))}else{if(a.default.config.firefoxOldContentScriptRegistration=!0,p.length>0){const e=p.filter((e=>t||!o.some((t=>t.id===e.id))));for(const t of e)yield t.script.unregister(),p.splice(p.indexOf(t),1)}let e=!1;for(const a of o)!t&&p.some((e=>e.id===a.id))||(p.push({id:a.id,script:yield browser.contentScripts.register({runAt:a.runAt,matches:a.matches,allFrames:a.allFrames,js:null===(i=null===(n=a.js)||void 0===n?void 0:n.map)||void 0===i?void 0:i.call(n,(e=>({file:e}))),css:null===(s=null===(r=a.css)||void 0===r?void 0:r.map)||void 0===s?void 0:s.call(r,(e=>({file:e})))})}),e=!0);e&&(yield(0,f.injectUpdatedScripts)(o))}}))}function S(){if(!a.default.config.activated){const e=(0,h.getFreeTrialTimeLeft)();e&&e>0?chrome.alarms.create("freeTrial",{when:Date.now()+e+6e4}):e&&!a.default.config.freeTrialEnded&&v();const t=(0,h.getFreeAccessRequestTimeLeft)();t&&t>0?chrome.alarms.create("freeAccessRequest",{when:Date.now()+t}):t&&y()}}chrome.runtime.onMessage.addListener(((e,t,n)=>{switch(e.message){case"openConfig":return chrome.tabs.create({url:chrome.runtime.getURL("options/options.html"+(e.hash?"#"+e.hash:""))}),!1;case"openHelp":return chrome.tabs.create({url:chrome.runtime.getURL("help.html")}),!1;case"openPayment":return chrome.tabs.create({url:chrome.runtime.getURL("payment.html")}),!1;case"registerNeededContentScripts":return b(e.activated).then(n).catch(n),S(),!0;case"setupAlarms":return S(),!1}return!1})),chrome.alarms.onAlarm.addListener((e=>{switch(e.name){case"freeTrial":v();break;case"freeAccessRequest":y()}})),chrome.runtime.onMessageExternal.addListener(((e,t,n)=>{t.id&&w().includes(t.id)&&"isInstalled"===e.message&&n(!0)}))},6963:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbnailFallbackAutogeneratedOption=t.ThumbnailFallbackOption=t.ThumbnailCacheOption=t.TitleFormatting=void 0;const o=n(7741),i=n(41),r=n(1181);var s,a,c,l;!function(e){e[e.Disable=-1]="Disable",e[e.CapitalizeWords=0]="CapitalizeWords",e[e.TitleCase=1]="TitleCase",e[e.SentenceCase=2]="SentenceCase",e[e.LowerCase=3]="LowerCase",e[e.FirstLetterUppercase=4]="FirstLetterUppercase"}(s=t.TitleFormatting||(t.TitleFormatting={})),function(e){e[e.Disable=0]="Disable",e[e.OnAllPagesExceptWatch=1]="OnAllPagesExceptWatch",e[e.OnAllPages=2]="OnAllPages"}(a=t.ThumbnailCacheOption||(t.ThumbnailCacheOption={})),function(e){e[e.RandomTime=0]="RandomTime",e[e.Blank=1]="Blank",e[e.Original=2]="Original",e[e.AutoGenerated=3]="AutoGenerated"}(c=t.ThumbnailFallbackOption||(t.ThumbnailFallbackOption={})),function(e){e[e.Start=0]="Start",e[e.Middle=1]="Middle",e[e.End=2]="End"}(l=t.ThumbnailFallbackAutogeneratedOption||(t.ThumbnailFallbackAutogeneratedOption={}));const u="object"!=typeof chrome||chrome.i18n.getUILanguage().startsWith("en");class d extends o.ProtoConfig{resetToDefault(){chrome.storage.sync.set(Object.assign(Object.assign({},this.syncDefaults),{userID:this.config.userID,licenseKey:this.config.licenseKey,freeActivation:this.config.freeActivation,activated:this.config.activated,freeTrialStart:this.config.freeTrialStart,freeTrialEnded:this.config.freeTrialEnded,freeAccessRequestStart:this.config.freeAccessRequestStart,firefoxOldContentScriptRegistration:this.config.firefoxOldContentScriptRegistration})).catch(i.logError),chrome.storage.local.set(Object.assign({},this.localDefaults)).catch(i.logError)}}const f=new d({userID:null,vip:!1,allowExpirements:!0,showDonationLink:!0,showUpsells:!0,donateClicked:0,darkMode:!0,invidiousInstances:[],keepUnsubmitted:!0,keepUnsubmittedInPrivate:!1,thumbnailSaturationLevel:100,titleFormatting:u?s.TitleCase:s.Disable,shouldCleanEmojis:!0,onlyTitleCaseInEnglish:!1,serverAddress:r.serverAddress,thumbnailServerAddress:r.thumbnailServerAddress,fetchTimeout:7e3,startLocalRenderTimeout:2e3,renderTimeout:25e3,thumbnailCacheUse:a.OnAllPages,showGuidelineHelp:!0,thumbnailFallback:c.RandomTime,thumbnailFallbackAutogenerated:l.Start,showLiveCover:!0,extensionEnabled:!0,defaultToCustom:!0,alwaysShowShowOriginalButton:!1,showOriginalOnHover:!1,importedConfig:!1,replaceTitles:!0,replaceThumbnails:!0,useCrowdsourcedTitles:!0,titleMaxLines:3,channelOverrides:{},customConfigurations:{},showInfoAboutRandomThumbnails:!1,showIconForFormattedTitles:!0,countReplacements:!0,titleReplacements:0,thumbnailReplacements:0,ignoreAbThumbnails:!0,hideDetailsWhileFetching:!0,licenseKey:null,activated:!0,alreadyActivated:!1,freeActivation:!0,freeTrialStart:null,freeTrialEnded:!1,freeAccessRequestStart:null,freeAccessWaitingPeriod:2592e5,firefoxOldContentScriptRegistration:!1,lastIncognitoStatus:!1,showActivatedMessage:!1,openMenuKey:{key:"d",shift:!0},enableExtensionKey:{key:"e",shift:!0}},{navigationApiAvailable:!1,unsubmitted:{}},(function(e){}),!0);t.default=f},9142:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.askBackgroundToSetupAlarms=t.askBackgroundToRegisterNeededContentScripts=t.getContentScripts=t.getLicenseKey=t.getFreeAccessRequestTimeLeft=t.isFreeAccessRequestActive=t.getFreeTrialTimeLeft=t.freeTrialActive=t.isActivated=void 0;const i=n(819),r=n(6963);function s(){return r.default.config.activated||a()}function a(){const e=c();return null!==e&&e>0&&!r.default.config.freeTrialEnded}function c(){return null!==r.default.config.freeTrialStart?216e5-(Date.now()-r.default.config.freeTrialStart):null}function l(){return null!==r.default.config.freeAccessRequestStart?r.default.config.freeAccessWaitingPeriod-(Date.now()-r.default.config.freeAccessRequestStart):null}t.isActivated=s,t.freeTrialActive=a,t.getFreeTrialTimeLeft=c,t.isFreeAccessRequestActive=function(){const e=l();return null!==e&&e>0},t.getFreeAccessRequestTimeLeft=l,t.getLicenseKey=function(){return o(this,void 0,void 0,(function*(){if(null!==r.default.config.licenseKey)return r.default.config.licenseKey;if(r.default.config.freeActivation&&r.default.config.userID){const e=yield function(e){var t;return o(this,void 0,void 0,(function*(){const e=yield(0,i.sendRequestToServer)("GET","/api/generateToken/free",{key:Date.now()});if(200===e.status){const n=JSON.parse(e.responseText);return null!==(t=n.licenseKey)&&void 0!==t?t:null}return null}))}();return r.default.config.licenseKey=e,e}return null}))},t.getContentScripts=function(e){return null!=e||(e=s()),e?[{id:"content",runAt:"document_start",matches:["https://*.youtube.com/*","https://www.youtube-nocookie.com/embed/*"],allFrames:!0,js:["./js/content.js"],css:["content.css","shared.css"]}]:[{id:"unactivatedWarning",runAt:"document_start",matches:["https://*.youtube.com/*","https://www.youtube-nocookie.com/embed/*"],allFrames:!0,js:["./js/unactivatedWarning.js"]}]},t.askBackgroundToRegisterNeededContentScripts=function(e){return new Promise((t=>chrome.runtime.sendMessage({message:"registerNeededContentScripts",activated:e},t)))},t.askBackgroundToSetupAlarms=function(){return new Promise((e=>chrome.runtime.sendMessage({message:"setupAlarms"},e)))}},41:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.log=t.logError=void 0;const o=n(1181);t.logError=function(e){console.error("[CB]",e)},t.log=function(...e){var t;o.debug?console.log(...e):(null!==(t=window.CBLogs)&&void 0!==t||(window.CBLogs=[]),window.CBLogs.push({time:Date.now(),text:e}),window.CBLogs.length>100&&window.CBLogs.shift())}},819:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequestToServer=void 0;const o=n(5246),i=n(6963);t.sendRequestToServer=function(e,t,n={}){return(0,o.sendRequestToCustomServer)(e,i.default.config.serverAddress+t,n)}},1181:e=>{e.exports=JSON.parse('{"serverAddress":"https://sponsor.ajay.app","thumbnailServerAddress":"https://dearrow-thumb.ajay.app","testingServerAddress":"https://sponsor.ajay.app/test","debug":false,"extensionImportList":{"chromium":["mnjggcdmjocbbbhaepdhchncahnbgone","mbmgnelfcpoecdepckhlhegpcehmpmji"],"firefox":["sponsorBlocker@ajay.app","sponsorBlockerBETA@ajay.app"],"safari":["app.ajay.sponsor.macos.extension"]}}')}},t={};!function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(1051)})();